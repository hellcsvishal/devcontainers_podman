FROM ubuntu:22.04

ENV DEBIAN_FRONTEND=noninteractive

RUN apt update && apt install -y \
    python3 python3-pip python3-venv \
    git curl wget ca-certificates \
    build-essential cmake ninja-build \
    bash zsh tmux \
    && rm -rf /var/lib/apt/lists/*

RUN useradd -m dev
USER dev
WORKDIR /workspace

ENV PIP_CACHE_DIR=/home/dev/.cache/pip
ENV VIRTUAL_ENV=/home/dev/.venv
ENV PATH="$VIRTUAL_ENV/bin:$PATH"

CMD ["bash"]

